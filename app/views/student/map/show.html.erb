<div class="container mx-auto px-4 py-8">
  <div class="mb-6">
    <h1 class="text-3xl font-bold">Map</h1>
    <p class="text-gray-600 mt-1">
      Department: <%= link_to @department.name, student_dashboard_path, class: "text-blue-600 hover:text-blue-800" %>
    </p>
  </div>

  <div class="bg-white shadow rounded-lg p-6">
    <div id="map" style="height: 500px; width: 100%;" data-controller="map"
         data-map-api-key-value="<%= Rails.application.config.google_maps_api_key %>"
         data-map-address-value="<%= format_department_address_for_map(@department) %>"
         data-map-custom-url-value="<%= @program&.google_map_url %>"></div>
  </div>

  <% if format_department_address(@department).present? %>
    <div class="mt-4 bg-gray-50 rounded-lg p-4">
      <p class="text-sm text-gray-600">
        <strong>Address:</strong> <%= format_department_address(@department) %>
      </p>
      <% if @department.main_office_phone_number.present? %>
        <p class="text-sm text-gray-600 mt-2">
          <strong>Phone:</strong> <%= @department.main_office_phone_number %>
        </p>
      <% end %>
    </div>
  <% end %>
</div>
